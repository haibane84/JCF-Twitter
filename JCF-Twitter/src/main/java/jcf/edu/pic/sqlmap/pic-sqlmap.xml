<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap PUBLIC '-//ibatis.apache.org//DTD SQL Map 2.0//EN'
'http://ibatis.apache.org/dtd/sql-map-2.dtd'>

<sqlMap namespace ="pic">
	<insert id ="insert" parameterClass="jcf.edu.pic.model.PicVO">
		INSERT INTO TWITTER_USER_PIC (
				file_uuid,
   				file_name,
   				file_path,
   				user_id
			)VALUES (
				#fileUuid#,
   				#fileName#,
   				#filePath#,
   				#userId#
			)
	</insert>


	<statement id = "find" parameterClass="java.util.Map"  resultClass= "jcf.edu.pic.model.PicVO">
		SELECT * FROM TWITTER_USER_PIC

		<dynamic prepend="where">
			<isNotEmpty property="userId" prepend="and">
				user_id  = #userId#
			</isNotEmpty>
		</dynamic>
	</statement>

	<statement id ="update" parameterClass="jcf.edu.pic.model.PicVO">
		UPDATE TWITTER_USER SET
				file_uuid = #fileUuid#
		WHERE 	user_id =#userId#
	</statement>
</sqlMap>
